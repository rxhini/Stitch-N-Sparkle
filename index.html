<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Stitch n Sparkle - DIY Bracelet</title>
<style>
  body {
    font-family: 'Comic Sans MS', cursive;
    background: #add8e6; /* light blue background */
    text-align: center;
    color: #333;
  }
  h1 { color: #ff69b4; margin-top: 20px; }
  #bracelet {
    margin: 20px auto;
    width: 600px;   /* larger space */
    height: 80px;   /* taller space */
    border: 2px dashed #ff69b4;
    border-radius: 50px;
    position: relative;
    background: #e0f7ff;
  }
  .bead, .charm {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: inline-block;
    position: absolute;
    cursor: grab;
    transition: transform 0.2s;
  }
  .bead:hover, .charm:hover { transform: scale(1.3); }
  #palette, #charms {
    margin: 15px;
  }
  .color-box, .charm-box {
    width: 30px;
    height: 30px;
    display: inline-block;
    margin: 5px;
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid #333;
  }
  .charm-box { background: #fff; border: 2px dashed #333; font-size: 20px; line-height: 30px; }
  button {
    padding: 10px 20px;
    margin: 10px;
    background: #ff69b4;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
  }
</style>
</head>
<body>

<h1>üéÄ Design Your Own Bracelet üéÄ</h1>

<div id="bracelet"></div>

<h3>Pick a bead color:</h3>
<div id="palette">
  <div class="color-box" style="background:#ff69b4;" onclick="addBead('#ff69b4')"></div>
  <div class="color-box" style="background:#1e90ff;" onclick="addBead('#1e90ff')"></div>
  <div class="color-box" style="background:#32cd32;" onclick="addBead('#32cd32')"></div>
  <div class="color-box" style="background:#ffa500;" onclick="addBead('#ffa500')"></div>
  <div class="color-box" style="background:#ffeb3b;" onclick="addBead('#ffeb3b')"></div>
  <div class="color-box" style="background:#800080;" onclick="addBead('#800080')"></div>
  <div class="color-box" style="background:#00ced1;" onclick="addBead('#00ced1')"></div>
  <div class="color-box" style="background:#ff4500;" onclick="addBead('#ff4500')"></div>
</div>

<h3>Pick a charm:</h3>
<div id="charms">
  <div class="charm-box" onclick="addCharm('‚ù§Ô∏è')">‚ù§Ô∏è</div>
  <div class="charm-box" onclick="addCharm('‚≠ê')">‚≠ê</div>
  <div class="charm-box" onclick="addCharm('üíé')">üíé</div>
  <div class="charm-box" onclick="addCharm('üå∏')">üå∏</div>
  <div class="charm-box" onclick="addCharm('ü¶ã')">ü¶ã</div>
  <div class="charm-box" onclick="addCharm('üçÄ')">üçÄ</div>
</div>

<div>
  <button onclick="previewBracelet()">Preview Bracelet</button>
  <button onclick="downloadBracelet()">Download Design</button>
</div>

<div id="message" style="margin-top:15px;color:#555;"></div>

<script>
const bracelet = document.getElementById('bracelet');
let beadCount = 0;

function addBead(color) {
  if(beadCount >= 20){ alert("Max 20 items!"); return; } // more space
  const bead = document.createElement('div');
  bead.className = 'bead';
  bead.style.background = color;
  bead.style.left = (beadCount * 28 + 5) + 'px';
  bead.style.top = '25px';
  bead.draggable = true;
  bead.addEventListener('dragstart', dragStart);
  bead.addEventListener('dragend', dragEnd);
  bracelet.appendChild(bead);
  beadCount++;
}

function addCharm(symbol){
  if(beadCount >= 20){ alert("Max 20 items!"); return; }
  const charm = document.createElement('div');
  charm.className = 'charm';
  charm.style.left = (beadCount * 28 + 5) + 'px';
  charm.style.top = '25px';
  charm.innerHTML = symbol;
  charm.draggable = true;
  charm.addEventListener('dragstart', dragStart);
  charm.addEventListener('dragend', dragEnd);
  bracelet.appendChild(charm);
  beadCount++;
}

let dragged = null;
function dragStart(e){ dragged = e.target; }
function dragEnd(e){
  const rect = bracelet.getBoundingClientRect();
  let x = e.clientX - rect.left - 15;
  if(x < 0) x=0;
  if(x>570)x=570;
  dragged.style.left = x+'px';
  dragged.style.top = '25px';
}

function previewBracelet(){
  alert("Bracelet preview complete! ‚ú® Check your design!");
}

function downloadBracelet(){
  html2canvas(bracelet).then(canvas=>{
    const link = document.createElement('a');
    link.download='bracelet.png';
    link.href = canvas.toDataURL();
    link.click();
  });
}

// Load html2canvas library dynamically
const script = document.createElement('script');
script.src = "https://html2canvas.hertzen.com/dist/html2canvas.min.js";
document.body.appendChild(script);
</script>

</body>
</html>